---
import OptimizedImage from '@/components/OptimizedImage.astro';
---


<div class="relative min-h-screen font-sans">


<figure transition:name="astro-background"  transition:animate="fade"  class="size-full">
  <OptimizedImage
    src="/assets/img-op/background.svg"
    alt="Astro framework background with modern design elements" 
    width={1000}
    height={1000}
    className="fixed top-0 left-0 w-full h-full -z-10 blur-[100px]"
    fetchPriority="low"
    responsive={false}
    loading="lazy"
    preload={false}
  />  <figcaption class="sr-only">Astro Framework Background</figcaption> 

</figure>


  <main class="h-full flex justify-center items-center">
 
    <section class="p-4 pt-[10%] md:pt-4">

      <a href="https://astro.build" class="block">
        <figure transition:name="astro-logo" transition:animate="fade" transition:duration="400">
          <OptimizedImage
            src="/assets/img-op/astro.svg"
            alt="Astro framework logo - Modern web framework for content-driven websites"
            width={115}
            height={48}
            className="size-full"
            loading="eager"
            fetchPriority="high"
            preload={true}
            responsive={false}
          />
          <figcaption class="sr-only">Astro Framework Logo</figcaption>
        </figure>
      </a>

      <h1 
        class="text-[22px] mt-1 text-gray-800 leading-relaxed md:leading-normal"
        transition:name="welcome-title"
        transition:animate="fade"
      >
        To get started, open the 
  
        <code 
          class="inline-block bg-gradient-to-tr from-pink-100 to-purple-200 rounded-lg p-1.5 border border-transparent"
          transition:name="code-block"
          transition:animate="fade"
        >
          <pre class="m-0 font-mono font-normal bg-gradient-to-r from-red-500 to-purple-500 bg-clip-text text-transparent">src/pages</pre>
        </code>
         directory in your project.
      </h1>
      
   
      <section class="flex justify-center mt-4">
        <a 
          class="button" 
          href="/about"
          transition:name="docs-button"
          transition:animate="fade"
        >
          About Template V6
        </a>
      </section>
    </section>
  </main>



</div>


  <script>
    // Optimización inmediata para LCP - Reducir latencia crítica
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', optimizeLCP);
    } else {
      optimizeLCP();
    }

    function optimizeLCP() {
      // Marcar el logo como visible inmediatamente
      const logo = document.querySelector('img[alt*="Astro framework logo"]') as HTMLElement;
      if (logo) {
        logo.style.opacity = '1';
        logo.style.transform = 'translateZ(0)'; // Forzar composición de capas
      }
      
      // Optimizar renderizado de elementos críticos
      const criticalElements = document.querySelectorAll('h1, .button');
      criticalElements.forEach(el => {
        const element = el as HTMLElement;
        element.style.willChange = 'auto';
        element.style.transform = 'translateZ(0)';
      });
    }

    // Intersection Observer para elementos no críticos - Carga diferida
    if ('IntersectionObserver' in window) {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const element = entry.target as HTMLElement;
            element.style.opacity = '1';
            observer.unobserve(entry.target);
          }
        });
      }, {
        rootMargin: '100px 0px', // Aumentar margen para carga más temprana
        threshold: 0.01 // Reducir threshold para detección más temprana
      });

      // Observar elementos no críticos
      const nonCriticalElements = document.querySelectorAll('.optimized-image');
      nonCriticalElements.forEach(el => observer.observe(el));
    }
  </script>
